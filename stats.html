<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>GC CCS ADVISING</title>

    <!-- Bootstrap Core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">


    <!-- Custom CSS -->
    <link href="css/simple-sidebar.css" rel="stylesheet">
	<link href="css/piechart.css" rel="stylesheet">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
	<style>	
	.table-body {

    position: absolute;
}
#ajax-loader{
	display: none;
	margin: auto;
    width: 60%;
    border:0px solid #8AC007;
    padding: 10px;
	 position: relative;
  top: 50%;
  transform: translateY(-20%);
  opacity:0.9;
}
</style>
</head>

<body class="grades">

    <div id="wrapper" class="">

		
        <!-- Sidebar -->
        <div id="sidebar-wrapper">
            <ul class="sidebar-nav">
                <li class="sidebar-brand  ">
                    <a id="studentID">
                        ID
                    </a>
                </li>
               <li>
                    <a href="home.html">Home</a>
                </li>
                <li class="selected grades">
                    <a href="stats.html">My Stats</a>
                </li>
                <li>
                    <a href="prospectus.html">My Prospectus</a>
                </li>
                
                <li>
                    <a href="advising.html">Advising</a>
                </li>
                <li>
                    <a id="scriptLogOut">Log out</a>
                </li>
              
            </ul>
        </div>
        <!-- /#sidebar-wrapper -->

		<nav class="navbar top ">
	
				<div class="container-fluid">
				<button id="btnToggle" type="button" class="btn btn-default" style="margin-left:0px;margin-top:8px;margin-bottom:8px;padding:10px 15px 10px 15px;background-color:#ffffff" aria-label="Justify" style="position:relative"><span class="glyphicon glyphicon-align-justify" aria-hidden="true"></span></button>
				 
			   </div>
		</nav>
		
		
        <!-- Page Content -->
	
        <div id="page-content-wrapper">
            
           <div class="panel panel-default ">
                        <div class="panel-heading panel-default">
							<h3><center>My Stats</center></h3>
	                    </div>
						<div class="panel-body">
						<div>
						
						<div class="btn-group" style="">
							  <button type="button" class="btn btn-success" id="lblYear">Year</button>
							  <button type="button" class="btn btn-success dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
								<span class="caret"></span>
								<span class="sr-only">Toggle Dropdown</span>
							  </button>
							  <ul class="dropdown-menu" id="chooseYear">
									<li><a href="#" class="list">1st Year</a></li>
									<li><a href="#" class="list">2nd Year</a></li>
									<li><a href="#" class="list">3rd Year</a></li>
									<li><a href="#"class="list">4th Year</a></li>
							  </ul>
							  
						</div>
						<div class="btn-group" style="">
							  <button type="button" class="btn btn-success" id="lblSem">Semester</button>
							  <button type="button" class="btn btn-success dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
								<span class="caret"></span>
								<span class="sr-only" >Toggle Dropdown</span>
							  </button>
							  <ul class="dropdown-menu semester" id="chooseSem">
									<li><a href="#" class="list">1st Sem</a></li>
									<li><a href="#"class="list">2nd Sem</a></li>
									<li><a href="#"class="list">Summer</a></li>
							  </ul>
							  
						</div>
							<button type="button" class="btn btn-success" id="btnShowgrades">Submit</button>
						</div>
								<div class="iconbox-text">
											<span class="chart" data-percent="0" style="margin-top:-10px" id="chartPercent"></span>
													<h3 class="iconbox-title" id="txtYear"> </h3>
													<div class="iconbox-desc "id="txtSem"> </div>
													<h3><span id="percent">0</span> completed</h3>
													<h4><span id="taken"></span></h4>
													<h4><span id="total"></span></h4>
											
								</div>
						<div class="loader" id="ajax-loader" style="background-color:transparent">
	<img src="loaders\loader.gif" style="width:150px;height:150px"\>
</div>
						</div>
                        <!-- /.panel-body -->
						
						</div>
						<!--Subjects  NOT Taken-->
						<div class="panel panel-success" style="position:relative">
							  <!-- Default panel contents -->
							  
							  <div class="panel-heading panel-success"><h3><center>SUBJECTS</center></h3>
							 
							  </div>
										<div class="panel-body">
								  <!-- Table -->
											<div class="well col-xs-12 col-xs-offset-0 " style="background-color:white;border:white">
											
											<div><span class="glyphicon glyphicon-stop" style="color:#DFF0D8"></span><strong><i>&nbsp; &nbsp;Taken</i></strong><span>&nbsp; &nbsp;</span> <span class="glyphicon glyphicon-stop" style="color:#F2DEDE"></span><strong><i>&nbsp; &nbsp;Not Taken</i></strong></div>
												<table  id=""class="table">
													<thead>
													<tr><th>TITLE</thead>
													<tbody id="prospectus-body">
												</table>

											</div>
									
		
						
        </div>
        <!-- /#page-content-wrapper -->

    </div>
    <!-- /#wrapper -->
	
</body>
<script src="js/jquery.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/jquery.easypiechart.js"></script>
	 <script src="js/query.dataTables.min.js"></script>
	<script src="js/dataTables.bootstrap.min.js"></script>
	<script>
		var x,y;
	    $(function(){
		$('.chart').easyPieChart({
			animate: 2000
		});
		$('#chooseTerm').append('<li><a href="#">Ashbee</a></li>');
		//Show Student ID
		$('#studentID').html(localStorage.getItem('Username'))
		//Navigation function
		$("#btnToggle").click(function(e) {
			e.preventDefault();
			$("#wrapper").toggleClass("toggled");
		});
		})//document.ready end
		
		//functions
		
		$('a.list').click(function(e){
		e.preventDefault();
		});
		<!--get year and sem 
		$('#chooseYear li a').click(function() {
			x =$(this).text();
			$('#lblYear').html(x);
		});	
		$('#chooseSem li a').click(function() {
				y =$(this).text();
				$('#lblSem').html(y);
		});
		-->
		//showGrades,graphs
		$('#btnShowgrades').click(function(){
			var year_selected=x;
			var sem_selected=y;
			$('#ajax-loader').show();
			$("body").css('display,');
					$.ajax({
								url:'http://gcccs.org/ccsadvising/giveGrades.php',
								type:'POST',
								data:{year:year_selected,sem:sem_selected,id:localStorage.getItem('Username')},
								dataType:'JSON',
								success: function(data){
								var percentage = parseInt(data.PERCENTAGE);
								$('#chartPercent').attr('data-percent',data.PERCENTAGE);
								$('#percent').html(percentage+"%");
								$('#taken').html('# of Subjects Completed: '+data.TAKEN);
								$('#total').html('# of Subjects: '+data.TOTAL_SUBJECTS);
								$('.chart').easyPieChart({
										animate: 2000
								});
								$('.chart').data('easyPieChart').update(percentage);
							
															
								
						}
	
					}).done(function(){
					setTimeout(function(){
					
						$("loader").css("display",'none');
						
						$('#ajax-loader').hide();
						},1000);
					});

					$.ajax({
									url:'http://gcccs.org/ccsadvising/giveSubjects.php',
									type:'POST',
									data:{year:year_selected,sem:sem_selected,id:localStorage.getItem('Username')},
									dataType:'JSON',
									success: function(data){

									$("#prospectus-body").empty();
									$.each(data.TAKEN,function(k,v){
									$("#prospectus-body").append("<tr class=\"success\"><td data-th=\"TITLE\">"+v.TITLE);
									//console.log(v.TITLE);
									});
									$.each(data.NOT,function(k,v){
									$("#prospectus-body").append("<tr class=\"danger\"><td data-th=\"TITLE\">"+v.TITLE);
									//console.log(v.TITLE);
									});
									
									
																
									
							}
		
						});
					
		});
		
     $("#myTab a").click(function(e){
    	e.preventDefault();
    	$(this).tab('show');
    });
	
	
		    </script>
	

</html>
